#!/bin/sh


if [ $2 == "y" ]; then
        vec=''
else
        vec='-fno-tree-vectorize'
fi


aarch64-linux-gnu-gcc -O"$1" $vec -march=armv8-a -mtune=cortex-a53 -g -Wall -I. -Isubroutines -DKAT -DKATNUM=${KAT} "-DCRYPTO_NAMESPACE(x)=x" "-D_CRYPTO_NAMESPACE(x)=_##x" -o kat nist/kat_kem.c nist/rng.c benes.c bm.c controlbits.c decrypt.c encrypt.c fft.c fft_tr.c gf.c operations.c pk_gen.c sk_gen.c vec.c  -L${PWD}/libs/lib_arm/ -lkeccak -lcrypto -ldl -lpthread 
